<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  data-layout-decorate="~{layout/default}">
  
	<div layout:fragment="mainFragment">
		<table class="table" th:object="${document}">
			<tr>
				<th>No.</th>
				<td th:text="*{id}">0</td>
			</tr>
			<tr>
				<th>생성일자</th>
				<td th:text="*{#temporals.format(create_date, 'yyyy-MM-dd HH:mm')}"></td>
			</tr>
			<tr>
				<th>수정일자</th>
				<td th:text="*{#temporals.format(update_date, 'yyyy-MM-dd HH:mm')}"></td>
			</tr>
			<tr>
				<th>제목</th>
				<td th:text="*{title}"></td>
			</tr>
			<tr>
				<th>내용</th>
				<td><pre th:text="*{content}"></pre></td>
			</tr>
			<tr>
				<th>태그</th>
				<td>
					<div class="tag-box">
					<th:block th:each="tag : *{tags}">
						<span class="tag" th:text="'#'+${tag.name}">#</span>
					</th:block>
					</div>
				</td>
			</tr>
			<tr>
				<th>사진</th>
				<td>
					<div class="photo-box">
					<ul>
						<th:block th:each="photo : *{photos}">
							<li>
								<img th:src="${photo.file_path} + ${photo.file_name}" th:alt="${photo.file_name}">
								<div class="photo-text-box">
								<th:block th:each="photo_text : ${photo.photo_texts}">
									[x:<span class="position" th:text="${photo_text.position_x}"></span>, y:<span class="position" th:text="${photo_text.position_y}"></span>]
									<span class="text" th:text="${photo_text.text}"></span><br>
									</th:block>
								</div>
							</li>
						</th:block>
					</ul>
					</div>
				</td>
			</tr>
		</table>
		<div class="button-box">
			<form id="button-form" method="post" th:action="@{/{id}(id=${document.id}, page=${page})}">
				<input type="hidden" name="_method" id="hidden-method" value="delete"/>
				<input type="submit" class="btn" id="btn-delete" value="삭제">
				<a th:href="@{/edit/{id}(id=${document.id}, page=${page})}"><input type="button" class="btn" id="btn-edit" value="수정"></a>
				<a th:href="@{/(page=${page})}"><input type="button" class="btn" id="btn-list" value="목록"></a>
			</form>
		</div>
	</div>
</body>
</html>